<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Daniel Shortener - AdSafeLink</title>
<script src="https://cdn.tailwindcss.com"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
.tooltip {position: relative; display: inline-block;}
.tooltip .tooltiptext {visibility: hidden; width: 120px; background-color: #555; color: #fff; text-align: center; border-radius: 6px; padding: 5px; position: absolute; z-index: 1; bottom: 125%; left: 50%; margin-left: -60px; opacity: 0; transition: opacity 0.3s;}
.tooltip:hover .tooltiptext {visibility: visible; opacity: 1;}
.fade-in {animation: fadeIn 0.5s ease-in;}
@keyframes fadeIn {from { opacity: 0; } to { opacity: 1; }}
</style>

<!-- AdSafeLink Script -->
<script type="text/javascript">
    var go_url = 'https://link.adsafelink.com/';
    var api = '6ecdb99c71d06f29b2f30d801206f72ae3beed35';
    var shorten_includ = ['Daniel'];
</script>
<script src="//adsafelink.com/js/web-script.js"></script>
</head>
<body class="bg-gray-900 text-gray-100 min-h-screen flex flex-col">

<header class="bg-gray-800 shadow-lg sticky top-0 z-10">
<div class="container mx-auto px-4 py-4 flex justify-between items-center">
    <div class="flex items-center space-x-3">
        <i class="fas fa-bolt text-yellow-400 text-2xl"></i>
        <h1 class="text-xl md:text-2xl font-bold">Daniel<span class="text-yellow-400">Short</span></h1>
    </div>
    <nav>
        <ul class="flex space-x-6">
            <li><a href="#" class="hover:text-yellow-400 transition">Beranda</a></li>
            <li><a href="#historySection" class="hover:text-yellow-400 transition">Riwayat</a></li>
        </ul>
    </nav>
</div>
</header>

<main class="container mx-auto px-4 py-8 flex-grow">

<section id="shortenSection" class="max-w-3xl mx-auto bg-gray-800 rounded-xl shadow-xl p-6 md:p-8 mb-8 fade-in">
<h2 class="text-2xl md:text-3xl font-bold mb-6 text-center"><i class="fas fa-link mr-2"></i> Buat Link Keren Sekejap!</h2>
<div class="space-y-6">
    <input type="url" id="originalUrl" placeholder="Masukkan link asli..." class="w-full px-4 py-3 rounded-lg bg-gray-700 border border-gray-600 focus:ring-2 focus:ring-yellow-400 focus:border-yellow-500">

    <button id="generateBtn" class="bg-yellow-500 hover:bg-yellow-600 text-gray-900 font-bold py-3 px-6 rounded-lg flex items-center">
        <i class="fas fa-magic mr-2"></i> Generate Sekarang
    </button>

    <div id="resultSection" class="hidden mt-6 p-4 bg-gray-700 rounded-lg border border-yellow-400 border-dashed">
        <div class="flex items-center justify-between mb-2">
            <p class="text-sm text-yellow-400 font-medium"><i class="fas fa-check-circle mr-1"></i> Mantap! Link siap dipake</p>
            <button id="copyBtn" class="bg-gray-600 hover:bg-gray-500 text-sm py-1 px-3 rounded"><i class="far fa-copy mr-1"></i> Salin</button>
        </div>
        <input type="text" id="shortUrl" readonly class="flex-1 px-4 py-2 rounded-l-lg bg-gray-800 border border-gray-600 w-full">
    </div>
</div>
</section>

<section id="historySection" class="max-w-4xl mx-auto bg-gray-800 rounded-xl shadow-xl p-6 md:p-8 mb-8">
<h2 class="text-2xl md:text-3xl font-bold mb-6 text-center"><i class="fas fa-history mr-2"></i> Riwayat Link Kamu</h2>
<div class="overflow-x-auto">
<table class="min-w-full bg-gray-700 rounded-lg overflow-hidden">
<thead class="bg-gray-600">
<tr>
<th class="px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase">No</th>
<th class="px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase">Link Pendek</th>
<th class="px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase">Link Asli</th>
<th class="px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase">Copy</th>
</tr>
</thead>
<tbody id="historyTable" class="divide-y divide-gray-600"></tbody>
</table>
</div>
</section>

</main>

<footer class="bg-gray-800 py-6 mt-12 text-center text-sm text-gray-400">
&copy; 2025 Daniel Shortener â€¢ Dibuat dengan <i class="fas fa-heart text-red-400"></i>
</footer>

<script>
// tombol generate pake AdSafeLink
const generateBtn = document.getElementById('generateBtn');
const originalUrlInput = document.getElementById('originalUrl');
const resultSection = document.getElementById('resultSection');
const shortUrlOutput = document.getElementById('shortUrl');
const copyBtn = document.getElementById('copyBtn');
const historyTable = document.getElementById('historyTable');

generateBtn.addEventListener('click',()=>{
    const url = originalUrlInput.value.trim();
    if(!url){alert('Link masih kosong bro!');return;}
    if(!/^(https?:\/\/)/.test(url)){alert('Link nggak valid bro!');return;}

    // panggil AdSafeLink API
    window.adsafeWeb && adsafeWeb.generateShort(url, function(short){
        shortUrlOutput.value = short;
        resultSection.classList.remove('hidden');

        // simpan riwayat
        const data = {originalUrl: url, shortUrl: short};
        addLinkToHistory(data);
    });
});

copyBtn.addEventListener('click',()=>{
    shortUrlOutput.select();
    document.execCommand('copy');
    alert('Link disalin bro!');
});

function addLinkToHistory(data){
    const row=document.createElement('tr');
    const idx=historyTable.children.length+1;
    row.innerHTML=`
    <td class="px-4 py-2 text-sm text-gray-300">${idx}</td>
    <td class="px-4 py-2 text-sm text-yellow-400"><a href="${data.shortUrl}" target="_blank">${data.shortUrl}</a></td>
    <td class="px-4 py-2 text-sm text-gray-300 break-all">${data.originalUrl}</td>
    <td class="px-4 py-2 text-sm text-gray-300"><button class="bg-gray-600 hover:bg-gray-500 py-1 px-2 rounded copy-btn">Copy</button></td>`;
    historyTable.prepend(row);
    row.querySelector('.copy-btn').addEventListener('click',()=>{
        navigator.clipboard.writeText(data.shortUrl);
        alert('Link disalin bro!');
    });
}
</script>

</body>
</html>